<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>element ui form中的table表单验证</title>
      <link href="/2022/01/04/element-ui%20form%E4%B8%AD%E7%9A%84table%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81/element-ui%20form%E4%B8%AD%E7%9A%84table%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81/"/>
      <url>/2022/01/04/element-ui%20form%E4%B8%AD%E7%9A%84table%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81/element-ui%20form%E4%B8%AD%E7%9A%84table%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81/</url>
      
        <content type="html"><![CDATA[<p>element ui 表格需要编辑，提交时验证非空</p><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;el-form :model=&quot;form&quot; :rules=&quot;tableDataRules&quot; ref=&quot;form&quot; label-width=&quot;100px&quot;&gt;</span><br><span class="line">          &lt;el-form-item&gt;</span><br><span class="line">            &lt;el-table :data=&quot;form.tableData&quot; class=&quot;tb-edit&quot; style=&quot;width: 100%&quot; highlight-current-row border stripe&gt;</span><br><span class="line">              &lt;el-table-column label=&quot;序号&quot; type=&quot;index&quot; align=&quot;center&quot; width=&quot;50&quot;&gt; &lt;/el-table-column&gt;</span><br><span class="line"></span><br><span class="line">              &lt;el-table-column label=&quot;问题描述&quot; align=&quot;center&quot;&gt;</span><br><span class="line">                &lt;template scope=&quot;scope&quot;&gt;</span><br><span class="line">                  &lt;el-form-item :prop=&quot;&#x27;tableData.&#x27; + scope.$index + &#x27;.fWt&#x27;&quot; :rules=&quot;tableDataRules.fWt&quot;&gt;</span><br><span class="line">                    &lt;el-input type=&quot;textarea&quot; size=&quot;small&quot; v-model=&quot;scope.row.fWt&quot; placeholder=&quot;请输入内容&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">                  &lt;/el-form-item&gt;</span><br><span class="line">                &lt;/template&gt;</span><br><span class="line">              &lt;/el-table-column&gt;</span><br><span class="line"></span><br><span class="line">              &lt;el-table-column label=&quot;责任科室&quot; align=&quot;center&quot;&gt;</span><br><span class="line">                &lt;template scope=&quot;scope&quot;&gt;</span><br><span class="line">                  &lt;el-form-item :prop=&quot;&#x27;tableData.&#x27; + scope.$index + &#x27;.fZrcsid&#x27;&quot; :rules=&quot;tableDataRules.fZrcsid&quot;&gt;</span><br><span class="line">                    &lt;el-select v-model=&quot;scope.row.fZrcsid&quot; placeholder=&quot;请选择&quot; filterable style=&quot;width: 100%&quot;&gt;</span><br><span class="line">                      &lt;el-option v-for=&quot;item in options&quot; :key=&quot;item.id&quot; :label=&quot;item.name&quot; :value=&quot;item.id&quot;&gt; &lt;/el-option&gt;</span><br><span class="line">                    &lt;/el-select&gt;</span><br><span class="line">                  &lt;/el-form-item&gt;</span><br><span class="line">                &lt;/template&gt;</span><br><span class="line">              &lt;/el-table-column&gt;</span><br><span class="line"></span><br><span class="line">              &lt;el-table-column label=&quot;要求反馈时间&quot; align=&quot;center&quot;&gt;</span><br><span class="line">                &lt;template scope=&quot;scope&quot;&gt;</span><br><span class="line">                  &lt;el-form-item :prop=&quot;&#x27;tableData.&#x27; + scope.$index + &#x27;.fYqfksj&#x27;&quot; :rules=&quot;tableDataRules.fYqfksj&quot;&gt;</span><br><span class="line">                    &lt;el-date-picker</span><br><span class="line">                      v-model=&quot;scope.row.fYqfksj&quot;</span><br><span class="line">                      type=&quot;date&quot;</span><br><span class="line">                      placeholder=&quot;选择日期&quot;</span><br><span class="line">                      value-format=&quot;yyyy-MM-dd&quot;</span><br><span class="line">                      style=&quot;width: 100%&quot;</span><br><span class="line">                    &gt;&lt;/el-date-picker&gt;</span><br><span class="line">                  &lt;/el-form-item&gt;</span><br><span class="line">                &lt;/template&gt;</span><br><span class="line">              &lt;/el-table-column&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/el-table&gt;</span><br><span class="line">          &lt;/el-form-item&gt;</span><br><span class="line">        &lt;/el-form&gt;</span><br><span class="line">    &lt;/div&gt;    </span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;save&quot;&gt;</span><br><span class="line">        &lt;el-button type=&quot;primary&quot; @click=&quot;save(&#x27;form&#x27;)&quot;&gt;保 存&lt;/el-button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">data()&#123;</span><br><span class="line">return&#123;</span><br><span class="line">                form: &#123;</span><br><span class="line">                    tableData: [],</span><br><span class="line">                    options: []</span><br><span class="line">                &#125;,</span><br><span class="line">                tableDataRules: &#123;</span><br><span class="line">                    fWt: [</span><br><span class="line">                      &#123; required: true, message: &quot;请输入问题描述&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class="line">                      &#123; min: 0, max: 1000, message: &quot;长度在 0 到 1000 个字符&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class="line">                    ],</span><br><span class="line">                    fZrcsid: [&#123; required: true, message: &quot;请选择责任科室&quot;, trigger: &quot;change&quot; &#125;],</span><br><span class="line">                    fYqfksj: [&#123; required: true, message: &quot;请选择要求反馈时间&quot;, trigger: &quot;change&quot; &#125;],</span><br><span class="line">                 &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">        </span><br><span class="line">        methods: &#123;</span><br><span class="line">            save(formName) &#123;</span><br><span class="line">                 this.$refs[formName].validate((valid) =&gt; &#123;</span><br><span class="line">                    if (valid) &#123;</span><br><span class="line">this.$message.success(&quot;保存成功&quot;);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                      return false;</span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> element-ui </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>v-bind绑定src无法显示</title>
      <link href="/2022/01/04/v-bind%E7%BB%91%E5%AE%9Asrc%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA/v-bind%E7%BB%91%E5%AE%9Asrc%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA/"/>
      <url>/2022/01/04/v-bind%E7%BB%91%E5%AE%9Asrc%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA/v-bind%E7%BB%91%E5%AE%9Asrc%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA/</url>
      
        <content type="html"><![CDATA[<p>Vue使用 <code>v-bind</code> 给src属性绑定路径无法显示解决方法</p><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;img :src=&quot;logo&quot;&gt;&lt;/img&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">data()&#123;</span><br><span class="line">return&#123;</span><br><span class="line">logo:require(&quot;@/assets/img/pwd-ico.png&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Vue点击图片下载</title>
      <link href="/2022/01/04/Vue%E7%82%B9%E5%87%BB%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD/Vue%E7%82%B9%E5%87%BB%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD/"/>
      <url>/2022/01/04/Vue%E7%82%B9%E5%87%BB%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD/Vue%E7%82%B9%E5%87%BB%E5%9B%BE%E7%89%87%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<p>项目中遇到二维码需要点击下载至本地</p><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;qr_shell&quot;&gt;</span><br><span class="line">        &lt;vue-qr :text=&quot;config.value&quot; :size=&quot;200&quot; id=&quot;qrcode&quot;&gt;&lt;/vue-qr&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;save_Qr&quot; @click=&quot;saveQr&quot;&gt;点击保存&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">data()&#123;</span><br><span class="line">return&#123;</span><br><span class="line">config: &#123;</span><br><span class="line">                    value: &quot;&quot;, //显示的值、跳转的地址</span><br><span class="line">                &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">        </span><br><span class="line">        methods: &#123;</span><br><span class="line">            saveQr() &#123;</span><br><span class="line">                const myCanvas = document.getElementById(&quot;qrcode&quot;);</span><br><span class="line">                const a = document.createElement(&quot;a&quot;);</span><br><span class="line">                a.href = myCanvas.src</span><br><span class="line">                a.download = &quot;现场问题收集二维码&quot;;</span><br><span class="line">                a.click();</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>js将数组对象的key改为数组的值</title>
      <link href="/2021/12/31/js%E5%B0%86%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E7%9A%84key%E6%94%B9%E4%B8%BA%E6%95%B0%E7%BB%84%E7%9A%84%E5%80%BC/md/js%E5%B0%86%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E7%9A%84key%E6%94%B9%E4%B8%BA%E6%95%B0%E7%BB%84%E7%9A%84%E5%80%BC/"/>
      <url>/2021/12/31/js%E5%B0%86%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E7%9A%84key%E6%94%B9%E4%B8%BA%E6%95%B0%E7%BB%84%E7%9A%84%E5%80%BC/md/js%E5%B0%86%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1%E7%9A%84key%E6%94%B9%E4%B8%BA%E6%95%B0%E7%BB%84%E7%9A%84%E5%80%BC/</url>
      
        <content type="html"><![CDATA[<p>js将数组对象的key改为数组的值</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> languageArr = [</span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;zh-CN&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;中文&#x27;</span>, <span class="attr">active</span>: <span class="literal">true</span>&#125;,</span><br><span class="line"></span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;en-US&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;English&#x27;</span>, <span class="attr">active</span>: <span class="literal">false</span>&#125;,</span><br><span class="line"></span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;ja-JP&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;日本語&#x27;</span>, <span class="attr">active</span>: <span class="literal">false</span>&#125;,</span><br><span class="line"></span><br><span class="line">    &#123;<span class="attr">name</span>: <span class="string">&#x27;es-MX&#x27;</span>, <span class="attr">title</span>: <span class="string">&#x27;Español&#x27;</span>, <span class="attr">active</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">   ]</span><br><span class="line">   <span class="keyword">let</span> languageList =&#123;&#125;</span><br><span class="line">   languageArr.map(<span class="function">(<span class="params">e</span>) =&gt;</span> (languageList[e.name] = e.title))</span><br><span class="line">   <span class="built_in">console</span>.log(languageList)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 转换 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>element ui 弹窗组件封装</title>
      <link href="/2021/12/31/element%20ui%20%20%E5%BC%B9%E7%AA%97%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85/md/element%20ui%20%20%E5%BC%B9%E7%AA%97%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85/"/>
      <url>/2021/12/31/element%20ui%20%20%E5%BC%B9%E7%AA%97%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85/md/element%20ui%20%20%E5%BC%B9%E7%AA%97%E7%BB%84%E4%BB%B6%E5%B0%81%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<p>element ui 弹窗组件封装</p><span id="more"></span><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-dialog title=&#x27;提示&#x27; :visible.sync=&#x27;show&#x27; width=&#x27;30%&#x27; :close-on-click-modal=&#x27;false&#x27;</span><br><span class="line">               :close-on-press-escape=&#x27;false&#x27; :show-close=&#x27;false&#x27;&gt;</span><br><span class="line">      &lt;div&gt;123&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">      &lt;span slot=&#x27;footer&#x27; class=&#x27;dialog-footer&#x27;&gt;</span><br><span class="line">        &lt;el-button @click=&#x27;cancel&#x27;&gt;取 消&lt;/el-button&gt;</span><br><span class="line">        &lt;el-button type=&#x27;primary&#x27; @click=&#x27;confirm&#x27;&gt;确 定&lt;/el-button&gt;</span><br><span class="line">      &lt;/span&gt;</span><br><span class="line">    &lt;/el-dialog&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;clusterDialog&#x27;,</span><br><span class="line"></span><br><span class="line">  props: &#123;</span><br><span class="line">    show: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: false</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    cancel() &#123;</span><br><span class="line">      this.$emit(&#x27;cancel&#x27;, false)</span><br><span class="line">    &#125;,</span><br><span class="line">    confirm() &#123;</span><br><span class="line">      this.$emit(&#x27;confirm&#x27;, false)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&#x27;scss&#x27; scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;clusterDialog :show=&quot;show&quot; @confirm=&#x27;confirm&#x27; @cancel=&#x27;jlCancel&#x27;&gt;&lt;/clusterDialog&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 封装 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Echarts柱状图x轴改滚动条</title>
      <link href="/2021/12/31/echarts%E6%9F%B1%E7%8A%B6%E5%9B%BEx%E8%BD%B4%E6%94%B9%E6%BB%9A%E5%8A%A8%E6%9D%A1/md/echarts%E6%9F%B1%E7%8A%B6%E5%9B%BEx%E8%BD%B4%E6%94%B9%E6%BB%9A%E5%8A%A8%E6%9D%A1/"/>
      <url>/2021/12/31/echarts%E6%9F%B1%E7%8A%B6%E5%9B%BEx%E8%BD%B4%E6%94%B9%E6%BB%9A%E5%8A%A8%E6%9D%A1/md/echarts%E6%9F%B1%E7%8A%B6%E5%9B%BEx%E8%BD%B4%E6%94%B9%E6%BB%9A%E5%8A%A8%E6%9D%A1/</url>
      
        <content type="html"><![CDATA[<p>Echarts柱状图x轴改滚动条</p><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">dataZoom : [</span><br><span class="line">    &#123;</span><br><span class="line">               <span class="attr">type</span>: <span class="string">&#x27;slider&#x27;</span>,</span><br><span class="line">               <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">               <span class="attr">start</span>: <span class="number">94</span>,</span><br><span class="line">               <span class="attr">end</span>: <span class="number">100</span>,</span><br><span class="line">               <span class="attr">handleSize</span>: <span class="number">8</span></span><br><span class="line">           &#125;,</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="attr">type</span>: <span class="string">&#x27;inside&#x27;</span>,</span><br><span class="line">               <span class="attr">start</span>: <span class="number">94</span>,</span><br><span class="line">               <span class="attr">end</span>: <span class="number">100</span></span><br><span class="line">           &#125;,</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="attr">type</span>: <span class="string">&#x27;slider&#x27;</span>,</span><br><span class="line">               <span class="attr">show</span>: <span class="literal">true</span>,</span><br><span class="line">               <span class="attr">yAxisIndex</span>: <span class="number">0</span>,</span><br><span class="line">               <span class="attr">filterMode</span>: <span class="string">&#x27;empty&#x27;</span>,</span><br><span class="line">               <span class="attr">width</span>: <span class="number">12</span>,</span><br><span class="line">               <span class="attr">height</span>: <span class="string">&#x27;70%&#x27;</span>,</span><br><span class="line">               <span class="attr">handleSize</span>: <span class="number">8</span>,</span><br><span class="line">               <span class="attr">showDataShadow</span>: <span class="literal">false</span>,</span><br><span class="line">               <span class="attr">left</span>: <span class="string">&#x27;93%&#x27;</span></span><br><span class="line">           &#125;</span><br><span class="line">    ]</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Echarts </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>echarts tooltip悬浮轮播</title>
      <link href="/2021/12/31/echarts%20tooltip%E8%BD%AE%E6%92%AD%E5%8F%8Atab%E5%88%87%E6%8D%A2/md/echarts%20tooltip%E8%BD%AE%E6%92%AD%E5%8F%8Atab%E5%88%87%E6%8D%A2/"/>
      <url>/2021/12/31/echarts%20tooltip%E8%BD%AE%E6%92%AD%E5%8F%8Atab%E5%88%87%E6%8D%A2/md/echarts%20tooltip%E8%BD%AE%E6%92%AD%E5%8F%8Atab%E5%88%87%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<p>echarts tooltip悬浮轮播</p><span id="more"></span><ol><li><p>echarts tooltip轮播</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">carousel</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">0</span></span><br><span class="line">  <span class="keyword">const</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.areaEcharts.dispatchAction(&#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;showTip&#x27;</span>,</span><br><span class="line">      <span class="attr">seriesIndex</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">dataIndex</span>: index</span><br><span class="line">    &#125;);</span><br><span class="line">    index++;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="built_in">this</span>.areaData.length) &#123;</span><br><span class="line">      index = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>通过<code>v-show</code>tab切换两张图表时会触发样式bug，所以轮播方法需写在<code>mounted</code>中仅执行一次,由于是vue项目，需要在页面跳转后销毁定时器</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">carousel</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">0</span></span><br><span class="line">  <span class="keyword">const</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.areaEcharts.dispatchAction(&#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;showTip&#x27;</span>,</span><br><span class="line">      <span class="attr">seriesIndex</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">dataIndex</span>: index</span><br><span class="line">    &#125;);</span><br><span class="line">    index++;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="built_in">this</span>.areaData.length) &#123;</span><br><span class="line">      index = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">2000</span>)</span><br><span class="line">  <span class="built_in">this</span>.$once(<span class="string">&#x27;hook:beforeDestroy&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Echarts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端打包部署服务器</title>
      <link href="/2021/12/31/%E5%89%8D%E7%AB%AF%E6%89%93%E5%8C%85/%E5%89%8D%E7%AB%AF%E9%80%9A%E8%BF%87xShell%E6%89%93%E5%8C%85%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
      <url>/2021/12/31/%E5%89%8D%E7%AB%AF%E6%89%93%E5%8C%85/%E5%89%8D%E7%AB%AF%E9%80%9A%E8%BF%87xShell%E6%89%93%E5%8C%85%E9%83%A8%E7%BD%B2%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<p>前端通过Shell打包并部署测试服务器</p><span id="more"></span><ol><li><p>打包静态文件,并压缩</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build:prod --report</span><br></pre></td></tr></table></figure></li><li><p>打开xShell</p></li><li><p>cd到根目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /</span><br></pre></td></tr></table></figure></li><li><p>进入项目目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ssjweb/dist</span><br></pre></td></tr></table></figure></li><li><p>备份之前的文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv dist.zip  /ssjweb/dist2021418.zip</span><br></pre></td></tr></table></figure><blockquote><p>2021418为当前日期</p></blockquote></li><li><p>删除当前目录所有文件</p><ul><li><p>先执行pwd命令看是否在ssjweb/dist目录下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure></li><li><p>如果不是先cd到目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ssjweb/dist</span><br></pre></td></tr></table></figure></li><li><p>删除</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf  *</span><br></pre></td></tr></table></figure></li></ul></li><li><p>把dist.zip上传到当前目录 ,拖至命令行</p></li><li><p>解压dist压缩包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip dist.zip</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 打包部署 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 刷新当前页面重新加载数据</title>
      <link href="/2021/12/31/vue%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2/md/Vue%20%E5%88%B7%E6%96%B0%E5%BD%93%E5%89%8D%E9%A1%B5%E9%9D%A2%E9%87%8D%E6%96%B0%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE/"/>
      <url>/2021/12/31/vue%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2/md/Vue%20%E5%88%B7%E6%96%B0%E5%BD%93%E5%89%8D%E9%A1%B5%E9%9D%A2%E9%87%8D%E6%96%B0%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE/</url>
      
        <content type="html"><![CDATA[<p>Vue 刷新当前页面，提升用户体验的优化方案</p><span id="more"></span><blockquote><p>在新增、修改弹窗提交后通常需要重新加载表格数据，可以通过再次调取表格接口或者刷新当前页面来解决，</p><p>最简单的方法是<code>location.reload()</code>来强制刷新整个页面，这样会导致刷新过程中页面空白，导致用户体验不佳</p><p>在 <code>vue</code> 中可以使用 <code>provide / inject</code> 这对用例,通过控制 <code>router-view</code> 的显示与隐藏，来重渲染路由区域，重而达到页面刷新的效果，<code>show -&gt; flase -&gt; show</code></p></blockquote><ol><li><p>在根目录 <code>APP.vue</code>下写入刷新方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;router-view v-if=&quot;isRouterAlive&quot; /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  provide () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      reload: this.reload</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isRouterAlive: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    reload () &#123;</span><br><span class="line">      this.isRouterAlive = false</span><br><span class="line">      this.$nextTick(function () &#123;</span><br><span class="line">        this.isRouterAlive = true</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>在子组件中引用,并在需要刷新的地方调用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">   <span class="attr">inject</span>: [<span class="string">&#x27;reload&#x27;</span>],</span><br><span class="line">   <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">xxx</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.reload()</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js数据转树形结构</title>
      <link href="/2021/12/31/js%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84/md/js%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84/"/>
      <url>/2021/12/31/js%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84/md/js%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p>将后端返回的数据格式转为树形</p><span id="more"></span><blockquote><p>将有父子关系的数组数据先分为两类，一类是没有父节点的数据(取个别名parents)，另一类是有父节点的数据(取个别名children)，然后通过遍历parents,对每一个父节点在children查找对应的子节点,并将其放入父节点的children中(这里我的是以children表示子节点)，然后每个子节点又作为一个父节点来重复之前的动作。</p></blockquote><h5 id="无父节点"><a href="#无父节点" class="headerlink" title="无父节点"></a>无父节点</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aaa = [</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;1-1&#x27;</span>,</span><br><span class="line">                <span class="attr">parentId</span>: <span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">3</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;1-1-1&#x27;</span>,</span><br><span class="line">                <span class="attr">parentId</span>: <span class="number">2</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">4</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;1-2&#x27;</span>,</span><br><span class="line">                <span class="attr">parentId</span>: <span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">5</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;1-2-2&#x27;</span>,</span><br><span class="line">                <span class="attr">parentId</span>: <span class="number">4</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">6</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;1-1-1-1&#x27;</span>,</span><br><span class="line">                <span class="attr">parentId</span>: <span class="number">3</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">7</span>,</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">translateDataToTree</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">let</span> parents = data.filter(<span class="function"><span class="params">value</span> =&gt;</span> value.parentId == <span class="string">&#x27;undefined&#x27;</span> || value.parentId == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">let</span> children = data.filter(<span class="function"><span class="params">value</span> =&gt;</span> value.parentId !== <span class="string">&#x27;undefined&#x27;</span> &amp;&amp; value.parentId != <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">let</span> translator = <span class="function">(<span class="params">parents, children</span>) =&gt;</span> &#123;</span><br><span class="line">                parents.forEach(<span class="function">(<span class="params">parent</span>) =&gt;</span> &#123;</span><br><span class="line">                    children.forEach(<span class="function">(<span class="params">current, index</span>) =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (current.parentId === parent.id) &#123;</span><br><span class="line">                            <span class="keyword">let</span> temp = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(children))</span><br><span class="line">                            temp.splice(index, <span class="number">1</span>)</span><br><span class="line">                            translator([current], temp)</span><br><span class="line">                            <span class="keyword">typeof</span> parent.children !== <span class="string">&#x27;undefined&#x27;</span> ? parent.children.push(current) :</span><br><span class="line">                                parent.children = [current]</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            translator(parents, children)</span><br><span class="line">            <span class="built_in">console</span>.log(parents)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> parents</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        translateDataToTree(aaa)</span><br></pre></td></tr></table></figure><h5 id="有父节点"><a href="#有父节点" class="headerlink" title="有父节点"></a>有父节点</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 该方法用于将有父子关系的数组转换成树形结构的数组</span></span><br><span class="line"><span class="comment"> * 接收一个具有父子关系的数组作为参数</span></span><br><span class="line"><span class="comment"> * 返回一个树形结构的数组</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">translateDataToTree</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//没有父节点的数据</span></span><br><span class="line">  <span class="keyword">let</span> parents = data.filter(<span class="function"><span class="params">value</span> =&gt;</span> value.parentId == <span class="string">&#x27;undefined&#x27;</span> || value.parentId == <span class="literal">null</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//有父节点的数据</span></span><br><span class="line">  <span class="keyword">let</span> children = data.filter(<span class="function"><span class="params">value</span> =&gt;</span> value.parentId !== <span class="string">&#x27;undefined&#x27;</span> &amp;&amp; value.parentId != <span class="literal">null</span>)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//定义转换方法的具体实现</span></span><br><span class="line">  <span class="keyword">let</span> translator = <span class="function">(<span class="params">parents, children</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//遍历父节点数据</span></span><br><span class="line">    parents.forEach(<span class="function">(<span class="params">parent</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//遍历子节点数据</span></span><br><span class="line">      children.forEach(<span class="function">(<span class="params">current, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//此时找到父节点对应的一个子节点</span></span><br><span class="line">        <span class="keyword">if</span> (current.parentId === parent.id) &#123;</span><br><span class="line">          <span class="comment">//对子节点数据进行深复制，这里只支持部分类型的数据深复制，对深复制不了解的童靴可以先去了解下深复制</span></span><br><span class="line">          <span class="keyword">let</span> temp = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(children))</span><br><span class="line">          <span class="comment">//让当前子节点从temp中移除，temp作为新的子节点数据，这里是为了让递归时，子节点的遍历次数更少，如果父子关系的层级越多，越有利</span></span><br><span class="line">          temp.splice(index, <span class="number">1</span>)</span><br><span class="line">          <span class="comment">//让当前子节点作为唯一的父节点，去递归查找其对应的子节点</span></span><br><span class="line">          translator([current], temp)</span><br><span class="line">          <span class="comment">//把找到子节点放入父节点的children属性中</span></span><br><span class="line">          <span class="keyword">typeof</span> parent.children !== <span class="string">&#x27;undefined&#x27;</span> ? parent.children.push(current) : parent.children = [current]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//调用转换方法</span></span><br><span class="line">  translator(parents, children)</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//返回最终的结果</span></span><br><span class="line">  <span class="keyword">return</span> parents</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据转换 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>element-ui 表格编辑</title>
      <link href="/2021/12/31/element-ui%E8%A1%A8%E6%A0%BC%E7%BC%96%E8%BE%91/md/element%20ui%E8%A1%A8%E6%A0%BC%E7%BC%96%E8%BE%91/"/>
      <url>/2021/12/31/element-ui%E8%A1%A8%E6%A0%BC%E7%BC%96%E8%BE%91/md/element%20ui%E8%A1%A8%E6%A0%BC%E7%BC%96%E8%BE%91/</url>
      
        <content type="html"><![CDATA[<p>element-ui 表格编辑</p><p>原理是通过Css控制绑定的输入控件与显示值,在选中行样式下对控件进行隐藏或显示</p><span id="more"></span><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>xz<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;tableData&quot;</span> <span class="attr">class</span>=<span class="string">&quot;tb-edit&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span> <span class="attr">highlight-current-row</span> @<span class="attr">row-click</span>=<span class="string">&quot;handleCurrentChange&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;日期&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;scope.row.date&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入内容&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;handleEdit(scope.$index, scope.row)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;scope.row.date&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;姓名&quot;</span> <span class="attr">width</span>=<span class="string">&quot;180&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;scope.row.name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入内容&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;handleEdit(scope.$index, scope.row)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;scope.row.name&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;address&quot;</span> <span class="attr">label</span>=<span class="string">&quot;地址&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;scope.row.address&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入内容&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;handleEdit(scope.$index, scope.row)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;scope.row.address&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;操作&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">scope</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--&lt;el-button size=&quot;small&quot; @click=&quot;handleEdit(scope.$index, scope.row)&quot;&gt;编辑&lt;/el-button&gt;--&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleDelete(scope.$index, scope.row)&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span>数据:&#123;&#123;tableData&#125;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">tableData</span>: [&#123;</span><br><span class="line">        <span class="attr">date</span>: <span class="string">&#x27;2016-05-02&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;王小虎&#x27;</span>,</span><br><span class="line">        <span class="attr">address</span>: <span class="string">&#x27;上海市杨浦区政立路 1321 弄&#x27;</span></span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="function"><span class="title">handleCurrentChange</span>(<span class="params">row, event, column</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(row, event, column, event.currentTarget)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">handleEdit</span>(<span class="params">index, row</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(index, row);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">handleDelete</span>(<span class="params">index, row</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(index, row);</span><br><span class="line">      <span class="built_in">this</span>.tableData.splice(index,<span class="number">1</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">add</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> addObj = &#123;</span><br><span class="line">        <span class="attr">date</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">address</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">this</span>.tableData.push(addObj)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;style scoped lang=&quot;scss&quot;&gt;</span><br><span class="line"><span class="selector-class">.tb-edit</span> <span class="selector-class">.el-input</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tb-edit</span> <span class="selector-class">.current-row</span> <span class="selector-class">.el-input</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tb-edit</span> <span class="selector-class">.current-row</span> <span class="selector-class">.el-input</span>+<span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> element-ui </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>element-ui table表格表头错位</title>
      <link href="/2021/12/30/element-ui%20table%E8%A1%A8%E6%A0%BC%E9%94%99%E4%BD%8D/md/%E8%A1%A8%E6%A0%BC%E9%94%99%E4%BD%8D/"/>
      <url>/2021/12/30/element-ui%20table%E8%A1%A8%E6%A0%BC%E9%94%99%E4%BD%8D/md/%E8%A1%A8%E6%A0%BC%E9%94%99%E4%BD%8D/</url>
      
        <content type="html"><![CDATA[<p>element-ui带边框表格，表头出现细微错位，通过css样式解决</p><span id="more"></span><h5 id="scss"><a href="#scss" class="headerlink" title="scss"></a>scss</h5>   <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">::v-deep.el-table th.gutter &#123;</span><br><span class="line">  display: table-cell <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::v-deep.el-table colgroup.gutter &#123;</span><br><span class="line">  display: table-cell <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="less"><a href="#less" class="headerlink" title="less"></a>less</h5>   <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">/deep/<span class="selector-class">.el-table</span> <span class="selector-tag">th</span><span class="selector-class">.gutter</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table-cell <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/deep/<span class="selector-class">.el-table</span> colgroup<span class="selector-class">.gutter</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: table-cell <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> element-ui </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
